<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hedef Promosyon Eğitimi - Modüler Sistem</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0a1f44; /* Koyu lacivert */
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: #142d5f; /* Konteyner için biraz daha açık lacivert */
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        .header {
            background: #0a1f44; /* Header için koyu lacivert */
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .nav-tabs {
            display: flex;
            background: #0a1f44; /* Navigasyon sekmeleri için koyu lacivert */
            border-bottom: 1px solid #0056b3;
        }

        .nav-tab {
            flex: 1;
            padding: 15px 20px;
            text-align: center;
            cursor: pointer;
            background: #0a1f44;
            border: none;
            font-size: 1.1rem;
            font-weight: 600;
            color: #ffffff; /* Beyaz metin */
            transition: all 0.3s ease;
        }

        .nav-tab.active {
            background: #ffc107; /* Aktif sekme için sarı */
            color: #0a1f44; /* Aktif sekme metni için koyu lacivert */
            border-bottom: 3px solid #ffc107;
        }

        .nav-tab:hover {
            background: #1a3a6b; /* Hover için biraz daha açık lacivert */
            color: #ffc107;
        }

        .content {
            padding: 30px;
            display: flex;
            gap: 20px;
        }

        .main-content {
            flex: 1;
        }

        .sidebar {
            width: 350px;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            height: fit-content;
            position: sticky;
            top: 20px;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .accordion {
            margin: 15px 0;
        }

        .accordion-header {
            background: #1a3a6b; /* Akordiyon başlıkları için lacivert */
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.1rem;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            margin-bottom: 10px;
            position: relative;
        }

        .edit-button {
            background: #ffc107 !important; /* Sarı edit butonu */
            color: #0a1f44 !important;
            border: none !important;
            padding: 5px 10px !important;
            border-radius: 5px !important;
            margin-left: 10px !important;
            font-size: 12px !important;
            cursor: pointer !important;
            z-index: 10;
            position: relative;
        }

        .edit-button:hover {
            background: #ffeb3b !important; /* Açık sarı hover */
            transform: scale(1.05);
        }

        .accordion-header:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .accordion-header.active {
            border-radius: 15px 15px 0 0;
        }

        .accordion-icon {
            font-size: 1.5rem;
            transition: transform 0.3s ease;
        }

        .accordion-header.active .accordion-icon {
            transform: rotate(180deg);
        }

        .accordion-content {
            background: white;
            border: 1px solid #dee2e6;
            border-top: none;
            border-radius: 0 0 15px 15px;
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
        }

        .accordion-content.active {
            max-height: none;
            padding: 20px;
            overflow: visible;
        }

        .promo-card {
            background: #1a3a6b; /* Promosyon kartı için lacivert */
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: transform 0.3s ease;
        }

        .promo-card:hover {
            transform: translateY(-5px);
        }

        .promo-title {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 15px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }

        .promo-description {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .promo-features {
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .section-accordion {
            margin-bottom: 15px;
            background: #1a3a6b;
            border-radius: 8px;
            overflow: hidden;
        }

        .section-header {
            background: #1a3a6b; /* Bölüm başlıkları için lacivert */
            color: white;
            padding: 12px 15px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.1rem;
            font-weight: bold;
            transition: all 0.3s ease;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .section-header:hover {
            background: #0a1f44; /* Hover için daha koyu lacivert */
        }

        .section-header.active {
            background: rgba(255,255,255,0.2);
        }

        .section-icon {
            font-size: 1.2rem;
            transition: transform 0.3s ease;
        }

        .section-header.active .section-icon {
            transform: rotate(180deg);
        }

        .section-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .section-content.active {
            max-height: 500px;
        }

        .section-content ul {
            list-style: none;
            padding: 15px;
            margin: 0;
        }

        .section-content li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
            font-size: 0.95rem;
            line-height: 1.4;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .section-content li:last-child {
            border-bottom: none;
        }

        .section-content li:before {
            content: "✓";
            position: absolute;
            left: 0;
            color: #4CAF50;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .section-content strong {
            color: #FFD700;
            font-weight: bold;
        }

        .quiz-container {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .quiz-question {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 20px;
            color: #333;
        }

        .quiz-options {
            display: grid;
            gap: 10px;
        }

        .quiz-option {
            background: white;
            border: 2px solid #dee2e6;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-option:hover {
            border-color: #667eea;
            background: #f8f9ff;
        }

        .quiz-option.selected {
            border-color: #ffc107;
            background: #ffc107;
            color: #0a1f44;
        }

        .quiz-option.correct {
            border-color: #28a745;
            background: #d4edda;
            color: #155724;
        }

        .quiz-option.incorrect {
            border-color: #dc3545;
            background: #f8d7da;
            color: #721c24;
        }

        .quiz-button {
            background: #ffc107; /* Sarı quiz butonu */
            color: #0a1f44;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .quiz-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            background: #ffeb3b; /* Açık sarı hover */
        }

        .quiz-button:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
        }

        .score-display {
            background: #1a3a6b;
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin-top: 20px;
            font-size: 1.2rem;
            font-weight: bold;
        }

        .search-box {
            width: 100%;
            padding: 15px;
            border: 2px solid #dee2e6;
            border-radius: 25px;
            font-size: 1.1rem;
            margin-bottom: 20px;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .search-box:focus {
            border-color: #667eea;
        }

        .add-promo-section {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .add-promo-section h3 {
            margin-bottom: 15px;
            color: #0a1f44; /* Koyu lacivert başlık */
            text-align: center;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
            color: #0a1f44; /* Koyu lacivert label */
        }

        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            font-size: 14px;
            box-sizing: border-box;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }

        .add-button {
            width: 100%;
            background: #ffc107; /* Sarı ekleme butonu */
            color: #0a1f44;
            border: none;
            padding: 12px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .add-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            background: #ffeb3b; /* Açık sarı hover */
        }

        .promo-manager {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .promo-list {
            max-height: 300px;
            overflow-y: auto;
        }

        .promo-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            margin-bottom: 10px;
            background: #f8f9fa;
        }

        .promo-item.active {
            background: #e3f2fd;
            border-color: #2196f3;
        }

        .promo-controls {
            display: flex;
            gap: 5px;
        }

        .control-btn {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }

        .edit-btn {
            background: #ff9800;
            color: white;
        }

        .delete-btn {
            background: #f44336;
            color: white;
        }

        .toggle-btn {
            background: #4caf50;
            color: white;
        }

        .edit-mode {
            background: #fff3cd !important;
            border: 2px solid #ffc107 !important;
        }

        .edit-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ffc107;
            border-radius: 8px;
            background: white;
            font-size: 16px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 8px 0;
            color: #333;
            font-weight: 500;
        }

        .edit-input:focus {
            outline: none;
            border-color: #ff9800;
            box-shadow: 0 0 5px rgba(255, 152, 0, 0.3);
        }

        .edit-textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #ffc107;
            border-radius: 8px;
            background: white;
            font-size: 16px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 8px 0;
            min-height: 80px;
            resize: vertical;
            color: #333;
            font-weight: 500;
            line-height: 1.5;
        }

        .edit-textarea:focus {
            outline: none;
            border-color: #ff9800;
            box-shadow: 0 0 5px rgba(255, 152, 0, 0.3);
        }

        .edit-section-content {
            background: rgba(255,255,255,0.95);
            border: 2px solid #ffc107;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
        }

        .edit-section-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
            padding-bottom: 5px;
            border-bottom: 2px solid #ffc107;
        }

        .edit-list-item {
            display: flex;
            align-items: center;
            margin: 8px 0;
            padding: 8px;
            background: #f8f9fa;
            border-radius: 5px;
            border: 1px solid #dee2e6;
        }

        .edit-list-item input {
            flex: 1;
            padding: 8px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            font-size: 14px;
            margin-right: 10px;
        }

        .edit-list-item button {
            background: #dc3545;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }

        .add-item-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            margin: 10px 0;
        }

        .edit-buttons {
            margin-top: 10px;
            display: flex;
            gap: 10px;
        }

        .save-btn {
            background: #ffc107;
            color: #0a1f44;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
        }

        .cancel-btn {
            background: #6c757d;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
        }

        .json-editor {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            min-height: 200px;
            white-space: pre-wrap;
            color: #333;
        }

        .json-editor:focus {
            outline: none;
            border-color: #667eea;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .nav-tabs {
                flex-direction: column;
            }
            
            .content {
                padding: 20px;
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                position: static;
                margin-bottom: 20px;
            }
            
            .main-content {
                width: 100%;
            }
            
            .promo-card {
                padding: 15px;
            }
            
            .accordion-header {
                padding: 12px;
                font-size: 1rem;
            }
            
            .accordion-content.active {
                padding: 15px;
            }
            
            .promo-features {
                max-height: 70vh;
                padding: 12px;
            }
            
            .promo-features h4 {
                font-size: 1.1rem;
            }
            
            .promo-features li {
                font-size: 0.9rem;
                padding: 6px 0;
                padding-left: 20px;
            }
            
            .section-header {
                padding: 10px 12px;
                font-size: 1rem;
            }
            
            .section-content {
                max-height: 300px;
            }
            
            .section-content ul {
                padding: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🎯 Hedef Promosyon Eğitimi</h1>
            <p>Modüler Promosyon Yönetim Sistemi</p>
        </div>

        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('promosyonlar')">📋 Promosyonlar</button>
            <button class="nav-tab" onclick="showTab('quiz')">🎯 Quiz</button>
            <button class="nav-tab" onclick="showTab('yonetim')">⚙️ Yönetim</button>
        </div>

        <div class="content">
            <!-- Sidebar -->
            <div class="sidebar">
                <div class="promo-manager">
                    <h3>📁 Promosyon Yöneticisi</h3>
                    <div class="promo-list" id="promo-list">
                        <!-- Promosyonlar buraya yüklenecek -->
                    </div>
                    <button class="add-button" onclick="showAddPromoForm()">➕ Yeni Promosyon Ekle</button>
                </div>

                <div class="add-promo-section" id="add-promo-form" style="display: none;">
                    <h3>➕ Yeni Promosyon Ekle</h3>
                    <div class="form-group">
                        <label>Promosyon JSON Verisi:</label>
                        <textarea class="json-editor" id="promo-json" placeholder="JSON formatında promosyon verisi yapıştırın..."></textarea>
                    </div>
                    <button class="add-button" onclick="addPromoFromJSON()">Promosyon Ekle</button>
                    <button class="add-button" onclick="hideAddPromoForm()" style="background: #6c757d; margin-top: 10px;">İptal</button>
                </div>
            </div>

            <!-- Main Content -->
            <div class="main-content">
                <!-- Promosyonlar Tab -->
                <div id="promosyonlar" class="tab-content active">
                    <input type="text" class="search-box" placeholder="🔍 Promosyon ara..." onkeyup="searchPromos()">
                    <div id="promosyon-container">
                        <!-- Promosyonlar buraya yüklenecek -->
                </div>

                    <!-- Yeni Sağlayıcı Bonusları Çekmecesi -->
                    <div class="accordion" id="saglayici-bonuslari-accordion">
                        <div class="accordion-header" onclick="toggleAccordion(this)">
                            <span>🎁 Sağlayıcı Bonusları</span>
                            <span class="accordion-icon">▼</span>
                        </div>
                        <div class="accordion-content">
                            <div id="saglayici-promosyon-container">
                                <!-- Sağlayıcı promosyonları buraya yüklenecek -->
                            </div>
                            </div>
                            </div>
                        </div>

                <!-- Quiz Tab -->
                <div id="quiz" class="tab-content">
                    <iframe src="quiz.html" frameborder="0" style="width: 100%; height: 600px; border: none; background-color: transparent;"></iframe>
                </div>

                <!-- Yönetim Tab -->
                <div id="yonetim" class="tab-content">
                    <div class="quiz-container">
                        <h3 style="margin-bottom: 20px; color: #333;">⚙️ Sistem Yönetimi</h3>
                        <p>Bu bölümde promosyon dosyalarını yönetebilirsiniz.</p>
                        <button class="add-button" onclick="refreshPromos()" style="background: #17a2b8;">🔄 Promosyonları Yenile</button>
                        <button class="add-button" onclick="exportPromos()" style="background: #6f42c1;">📤 Tüm Promosyonları Dışa Aktar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentAnswer = -1;
        let currentQuiz = null;
        let editingPromoId = null;
        let promos = [];

        // Promosyonları yükle
        async function loadPromos() {
            try {
                const promoFiles = [
                    'ertesi-gun.json', 
                    'bonus-buy.json',
                    'hos-geldin.json',
                    'spor-freebet.json',
                    'casino-kayip-bonusu.json',
                    'freespin-600.json',
                    'cash-out.json'
                ];

                const providerPromoFiles = [
                    'pragmatic-play.json'
                ];

                promos = [];
                let loadedCount = 0;
                
                for (const file of promoFiles) {
                    try {
                        const promoResponse = await fetch(`promosyonlar/${file}`);
                        if (promoResponse.ok) {
                            const promo = await promoResponse.json();
                            promos.push(promo);
                            loadedCount++;
                        }
                    } catch (error) {
                        console.error(`Error loading ${file}:`, error);
                    }
                }

                // Sağlayıcı promosyonlarını yükle
                for (const file of providerPromoFiles) {
                    try {
                        const promoResponse = await fetch(`promosyonlar/${file}`);
                        if (promoResponse.ok) {
                            const promo = await promoResponse.json();
                            // Sağlayıcı promosyonlarını ayrı bir kategoriye ekliyoruz
                            // Şimdilik ana 'promos' dizisine ekleyeceğim, sonra ayrıştıracağım
                            promos.push(promo);
                            loadedCount++;
                        }
                    } catch (error) {
                        console.error(`Error loading ${file}:`, error);
                    }
                }

                // Eğer hiç promosyon yüklenemediyse varsayılanları yükle
                if (loadedCount === 0) {
                    console.log('JSON dosyaları yüklenemedi, varsayılan promosyonlar yükleniyor...');
                    loadDefaultPromos();
                    return;
                }

                renderPromos();
                updatePromoList();
            } catch (error) {
                console.error('Error loading promos:', error);
                // Fallback: Varsayılan promosyonları yükle
                loadDefaultPromos();
            }
        }

        function loadDefaultPromos() {
            // Varsayılan promosyonlar (JSON dosyaları yüklenemezse)
            promos = [
                {
                    id: 'pragmatic-play',
                    title: '🎰 Pragmatic Play Drops & Wins 2025',
                    shortDesc: '2.000.000 EUR Ödül Havuzu',
                    description: 'Pragmatic Play sizi 5 ay sürecek yeni bir maceraya çıkarıyor. Günlük ve haftalık ödüllerle eğlenirken kazanma şansını yakala, serüvenin şanslısı sen ol.',
                    keywords: 'pragmatic play drops wins 2025 turnuva ödül',
                    basicInfo: {
                        'Tarih': '4 Haziran 2025 - 19 Kasım 2025',
                        'Ödül Havuzu': '2.000.000 EUR',
                        'Minimum Bahis': '7 TL',
                        'Ödül Dağıtımı': 'Günlük ve haftalık olarak (kümülatif)'
                    },
                    sections: {
                        'Haftalık Turnuva': {
                            title: '🏆 Haftalık Turnuva Kuralları',
                            content: ['100,000x', '10,000x', '5,000x', '1,000x', '500x', '200x', '100x', '50x', '20x', '10x', '20 Freespin', 'Instant Bonus']
                        },
                        'Günlük Turnuva': {
                            title: '📅 Günlük Turnuva Kuralları',
                            content: ['Ödül kazançları kümülatif olarak dağıtılır', 'Günlük turnuvada ödül alabilmek için minimum bahis tutarı 7 TL\'dir', 'Ödüller nakit ve çevrimsiz olarak dağıtılır']
                        },
                        'Geçerli Oyunlar': {
                            title: '🎮 Geçerli Oyunlar',
                            content: ['Gates of Olympus 1000', 'Sweet Bonanza 1000', 'Sugar Rush 1000', 'Starlight Princess 1000', 'Big Bass Splash', 'Big Bass Bonanza', 'Zeus vs Hades', 'Chests of Cai Shen', 'The Dog House Megaways', '5 Lions Megaways']
                        }
                    }
                },
                {
                    id: 'ertesi-gun',
                    title: '🎁 %35 Ertesi Gün Bonusu',
                    shortDesc: 'Çevrimsiz, Kayıp Bonusu Gerekli',
                    description: 'Her gün yeni bir şans! %35\'e varan kazanç sınırı olmayan Ertesi Gün Bonusu ile oyunun keyfini her zaman Hedef\'te yaşayın!',
                    keywords: 'ertesi gün bonusu çevrimsiz %35 kayıp bonusu',
                    basicInfo: {
                        'Bonus Oranı': '%35\'e varan çevrimsiz bonus',
                        'Minimum Yatırım': '100₺',
                        'Maksimum Bonus': 'Anlık yatırımın %20\'si + önceki gün kaybının %10\'u',
                        'Çevrim Şartı': 'Spor: 1,50 oran üzeri / Casino: 2x bahis',
                        'Geçerlilik Süresi': '7 gün'
                    },
                    sections: {
                        'Hak Ediş Şartları': {
                            title: '📋 Hak Ediş Şartları',
                            content: ['Mobil ödeme ve kredi kartı ile yatırım yapan üyelerimiz bu bonustan yararlanamamaktadır.', 'Ertesi Gün Bonusu talep edilebilmesi için anlık yatırım miktarının minimum 100₺ olması gerekmektedir.', 'Bu promosyondan sadece spor kayıp veya casino kayıp bonusundan faydalanıp aldığı kayıp bonusu ile kayıp yaşayan ve ertesi gün tekrar yatırım yapan üyeler faydalanabilir.']
                        },
                        'Bonus Özellikleri': {
                            title: '💰 Bonus Özellikleri',
                            content: ['Bu hakkedişi kullanmak için minimum 100 ₺ yatırımınızın hemen ardından herhangi bir işlem gerçekleştirmeden Bonus Talep sayfasından Ertesi Gün Bonusu talebi iletilmesi gerekmektedir.', 'Bu promosyondan tek yatırıma alınabilecek maksimum bonus miktarı anlık yatırımın %20\'si ve düne ait kayıp bonusu alınan yatırımların %10\'u ile sınırlı olmaktadır.', 'Bonusun geçerlilik süresi 7 gündür. 7 gün içerisinde çevrimini tamamlamayan kullanıcıların bonusları iptal edilecektir.']
                        }
                    }
                },
                {
                    id: 'bonus-buy',
                    title: '🎁 1500TL Bonus Buy',
                    shortDesc: 'Her Ayın 5\'i, 15\'i, 25\'i',
                    description: '2000₺ ve üzeri yatırımlarınıza 1.500₺ Bonus Buy hediye! Büyük kazançlara bir adım daha yaklaşmak için şimdi yatırım yap, hediye scatterları kap!',
                    keywords: 'bonus buy 1500tl hediye big bass splash trinkpara',
                    basicInfo: {
                        'Bonus Miktarı': '1.500₺ Hediye Bonus Buy',
                        'Minimum Yatırım': '2.000₺',
                        'Geçerli Günler': 'Her ayın 5\'i, 15\'i ve 25\'i',
                        'Geçerlilik Süresi': '24 saat',
                        'Maksimum Kazanç': '10.000₺'
                    },
                    sections: {
                        'Hak Ediş Şartları': {
                            title: '📋 Hak Ediş Şartları',
                            content: ['Bu promosyondan yararlanabilmeniz için Trinkpara Havale, Trinkpara Papara, Trinkpara Paratim, Trinkpara Pep, Trinkpara Paybol, Trinkpara Popypara, Trinkpara Kripto ve Anında Kripto yöntemi ile yatırım yapmanız gerekmektedir.', 'Bu promosyonlardan faydalanabilmek için yatırımınızın hemen öncesinde para yatırma sayfasında "BONUS SEÇ" kısmına tıklayarak "BIG BASS SPLASH 1500 TL BONUS BUY" bonusu seçilerek yatırım yapmanız durumunda otomatik olarak bonus buy(Ücretsiz Freespin Satın Alımı) hesabınıza aktarılacaktır.', 'Hediye bonuslarının geçerlilik süresi 24 saattir. Kullanılmayan bonuslar süresi dolduğunda geçersiz olacaktır.']
                        },
                        'Çevrim Şartları': {
                            title: '🔄 Bonus Çevrim Şartları',
                            content: ['Freespin kazançları, ana bakiyeye aktarılmadan önce kazanç miktarının 10 katı kadar çevrim yapılmalıdır.', 'Bonus Buy bonusu kapsamında çevrim ardından ana bakiyeye aktarılacak tutar maksimum kazanç 10.000₺ olmaktadır.', 'Çevrimi dilediğiniz oyunlarda yapabilirsiniz ancak bazı oyunlar çevrime dahil değildir.']
                        }
                    }
                },
                {
                    id: 'hos-geldin',
                    title: '🎁 %100 Casino Hoş Geldin Bonusu',
                    shortDesc: 'Maksimum 10.000₺',
                    description: 'Yatırımınızın Karşılığını İki Kat Alacağınız Bir Fırsat! %100 Casino Hoş Geldin Bonusuyla Büyük Kazançlara Giden Yolda Adımınızı Hedef\'te atın!',
                    keywords: 'hoş geldin bonusu %100 casino 10000tl çevrim',
                    basicInfo: {
                        'Bonus Oranı': '%100',
                        'Minimum Yatırım': '100₺',
                        'Maksimum Bonus': '10.000₺',
                        'Çevrim Şartı': '35x (Casino/Canlı Casino)',
                        'Geçerlilik Süresi': '7 gün',
                        'Kullanım': 'Sadece 1 kez'
                    },
                    sections: {
                        'Hak Ediş Şartları': {
                            title: '📋 Hak Ediş Şartları',
                            content: ['İlk para yatırımınıza özel Casino ve Canlı Casino alanında geçerli %100 Hoş Geldin Bonusunuz bizden!', 'Bu promosyon mobil ödeme ve kredi kartı yatırım yöntemleri hariç diğer yatırım yöntemleri ile yapılan minimum 100 ₺ ve üstü yatırımlar için geçerlidir.', 'Bu promosyondan yararlanabilmeniz için ilk kez yatırım gerçekleştirmiş olmanız gerekmektedir.']
                        },
                        'Çevrim Şartları': {
                            title: '🔄 Bonus Çevrim Şartları',
                            content: ['Canlı Casino & Casino alanının dışında bahis alabilmek için; aldığınız bonus miktarının 35 katı kadar Canlı Casino veya Casino alanında bahis alımı yapmanız gerekmektedir.', 'Örneğin: "250₺ yatırım yaparak almış olduğunuz 250₺ bonusun çevrimi için; 35X250₺= 8.750₺ bonus çevrimi ve 250₺ anapara çevrimi olarak toplamda 9.000₺ değerinde bahis almanız gerekmektedir.', 'Bonus çevriminizi tamamlamanız halinde ana para miktarınız kadar da Canlı Casino veya Casino alanında bahis alımı yapmanız gerekmektedir.']
                        }
                    }
                },
                {
                    id: 'spor-freebet',
                    title: '⚽ SPOR SEZONUNA ÖZEL HER YATIRIMA %10 SPOR FREEBET!',
                    shortDesc: 'Her Yatırımda %10 Freebet, Maksimum 1000₺',
                    description: 'Spor heyecanını doruklarda yaşayın diye Hedef sizinle! Yeni sezona özel, yaptığınız her yatırımda %10 Freebet sizleri bekliyor!',
                    keywords: 'spor freebet %10 yatırım sezon trinkpara',
                    basicInfo: {
                        'Bonus Oranı': '%10 Freebet',
                        'Maksimum Freebet': '1000₺',
                        'Maksimum Kazanç': '2000₺',
                        'Günlük Limit': 'Günde 1 kere',
                        'Çevrim Şartı': 'Yok (Direkt kullanım)',
                        'Geçerlilik': 'Sürekli'
                    },
                    sections: {
                        'Hak Ediş Şartları': {
                            title: '📋 Hak Ediş Şartları',
                            content: ['Freebet miktarı yatırım miktarınızın %10\'u kadar olacak şekilde maksimum 1000₺ olmaktadır.', 'Bu promosyondan yararlanabilmeniz için Trinkpara Havale, Trinkpara Papara, Trinkpara Paratim, Trinkpara Pep, Trinkpara Paybol, Trinkpara Popypara, Trinkpara Kripto ve Anında Kripto yöntemi ile yatırım yapmanız gerekmektedir.', 'Bu promosyondan faydalanabilmek için yatırım sırasında "BONUS SEÇ" kısmını seçerek HER YATIRIMA SPOR FREEBET\'i seçerek yatırımınızı yapmanız gerekmektedir.']
                        },
                        'Bonus Özellikleri': {
                            title: '💰 Bonus Özellikleri',
                            content: ['Freebet promosyonumuzdan her üyemiz günde 1 kere yararlanabilir.', 'Freebet promosyonundan yararlanmanız halinde kayıp bonuslarından da yararlanabilirsiniz.', 'Freebet ile elde edilebilecek maksimum kazanç 2000₺ olmaktadır.', 'Freebetler ile yapılan kazançlar ile site üzerindeki her oyunda oynayabilir kazancınızı katlayabilirsiniz. Bir kazanç sınırlandırması bulunmamaktadır.']
                        },
                        'Çevrim Şartları': {
                            title: '🔄 Freebet Çevrim Şartları',
                            content: ['Bu promosyonun ekstra bir çevrim şartı bulunmamaktadır.', 'Freebetiniz ile her bir seçim minimum 1.50 oran olan 3\'lü kombine kuponunuzda maç öncesi bahislerde olacak şekilde kullanabilirsiniz.', 'Sadece Ev sahibi – Beraberlik – Deplasman tercihlerine alacağınız bahisler geçerlidir.', 'Freebet ile elde edilebilecek maksimum kazanç 2000₺ olmaktadır. Freebet kazancı ardından bir kazanç sınırlandırması bulunmamaktadır.']
                        },
                        'Geçerli Müsabakalar': {
                            title: '⚽ Geçerli Müsabakalar',
                            content: ['Freebetiniz ile her bir seçim minimum 1.50 oran olan 3\'lü kombine kuponunuzda kullanabilirsiniz.', 'Sadece Ev sahibi – Beraberlik – Deplasman tercihlerine alacağınız bahisler geçerlidir.', 'Sadece maç öncesi tercihlerinizde alacağıınız bahislerde geçerlidir.', 'Herhangi bir branş kısıtlaması bulunmamaktadır.']
                        }
                    }
                },
                {
                    id: 'casino-kayip-bonusu',
                    title: '🎰 %25\'E VARAN CASİNO VE CANLI CASİNO KAYIP BONUSU!',
                    shortDesc: 'Sınır Tanımayan Bonus, Kazanç Sınırı Yok',
                    description: 'Sınır Tanımayan Bir Bonus! Kazanç Sınırı Olmadan %25 Casino Kayıp Bonusu ile Her Zaman Güvendesiniz!',
                    keywords: 'casino kayıp bonusu %25 canlı casino sınır yok',
                    basicInfo: {
                        'Bonus Oranı': '%20 (100₺-99.999₺) / %25 (100.000₺+)',
                        'Minimum Yatırım': '100₺',
                        'Maksimum Limit': 'Sınırsız',
                        'Kazanç Sınırı': 'Yok',
                        'Geçerlilik Süresi': '7 gün',
                        'Çevrim Şartı': '1x (Bonus miktarı kadar bahis)'
                    },
                    sections: {
                        'Hak Ediş Şartları': {
                            title: '📋 Hak Ediş Şartları',
                            content: ['Casino Kayıp bonusundan Canlı Casino, Casino ve Tombala oyunlarında yaşadığınız kayıplarınız için yararlanabilirsiniz.', 'Son 24 saat içinde tek seferde minimum 100₺ ve üstü yatırımlarınıza Casino Kayıp Bonusu talep edebilirsiniz.', 'Kayıp bonusu aktarımları 24 saat kar zarar durumu baz alınarak gerçekleştirilmektedir. 24 Saat içinde zararı olan üyelere aktarılmaktadır.', 'Kayıp bonusunuzu yatırım saatinden sonra maksimum 24 saat içerisinde Bonus Talep sayfasından talep etmeniz gerekmektedir.', 'Kayıp bonusu talep edebilmeniz için bakiyenizin 2₺ altında olması ve açık casino bahsinizin olmaması gerekmektedir.']
                        },
                        'Bonus Özellikleri': {
                            title: '💰 Bonus Özellikleri',
                            content: ['100₺ – 99.999₺ arası yatırımlarınıza %20 oranında, 100.000₺ ve üzeri yatırımlarınıza %25 oranından bonus aktarımı sağlanacaktır.', 'Casino Hoş Geldin Bonusu ile birleştirilemez. Ertesi Gün Bonusundan yararlanan üyelerimiz ise kayıp bonuslarımızdan yararlanabilir.', 'Hesaplarda kullanılmamış Freebet veya Freespin mevcut ise kayıp bonusundan yararlanılamaz.', 'Bonusun geçerlilik süresi 7 gündür. 7 gün içerisinde çevrimini tamamlamayan kullanıcıların bonusları iptal edilecektir.']
                        },
                        'Çevrim Şartları': {
                            title: '🔄 Bonus Çevrim Şartları',
                            content: ['Casino kayıp bonusundan faydalanmanız ardından çekim yapabilmek için aldığınız bonus miktarı kadar casino veya canlı casino alanında bahis almanız gerekmektedir.', 'Kayıp bonusundan faydalanabileceğiniz maksimum limit bulunmamaktadır.', 'Kayıp bonusu ile kazanç sınırı bulunmamaktadır.']
                        },
                        'Geçerli Oyunlar': {
                            title: '🎮 Geçerli Oyunlar',
                            content: ['Slot oyunları: %100', 'Rulet: %1', 'Baccarat: %10', 'Blackjack: %10', 'Poker: %10', 'Zar oyunları: %10', 'Şans oyunları: %10', 'Loto oyunları: %10', 'Canlı Casino, Casino ve Tombala oyunlarında geçerlidir.', 'Baccarat, Rulet, Dragon/Tiger ve Sic-Bo oyunlarında \"1\'e 2\" ve \"1\'e 3\" oranında alınan bahislere bonus aktarılmamaktadır.']
                        }
                    }
                },
                {
                    id: 'freespin-600',
                    title: '🎰 HER GÜN YATIRIMINZA ÖZEL 600 FREESPIN FIRSATI',
                    shortDesc: 'Gates Of Olympus Super Scatter ve Sweet Bonanza Super Scatter ile Kazanmanın Keyfini Çıkarın! Her Yatırımınıza 600 Freespin, Hproject\'te Kazanç ve Eğlence Sizi Bekliyor!',
                    description: 'Gates Of Olympus Super Scatter ve Sweet Bonanza Super Scatter oyunlarında büyük kazançların kapısını aralayın! Her gün yatırımınıza özel 600 freespin fırsatı ile eğlence ve kazanç dolu anlar sizi bekliyor. Pragmatic Play\'in en popüler oyunlarında ücretsiz dönüşlerle büyük ödülleri kazanma şansı yakalayın!',
                    keywords: ["freespin", "600", "gates of olympus", "sweet bonanza", "pragmatic play", "günlük", "yatırım", "bonus"],
                    basicInfo: {
                        'Minimum Yatırım': '500₺',
                        'Maksimum Freespin': '600 adet',
                        'Geçerlilik Süresi': '24 saat',
                        'Maksimum Kazanç': '1000₺',
                        'Çevrim Şartı': '1x (Freespin kazancının 1 katı)',
                        'Geçerli Oyunlar': 'Gates Of Olympus Super Scatter, Sweet Bonanza Super Scatter'
                    },
                    sections: [
                        {
                            title: '🎯 Hak Ediş Şartları',
                            content: 'Bu promosyondan yararlanabilmek için aşağıdaki şartları yerine getirmeniz gerekmektedir:',
                            items: [
                                "Her üyemiz yatırımlarına günde 1 defa olacak şekilde yararlanabilir",
                                "Trinkpara Havale, Trinkpara Papara, Trinkpara Paratim, Trinkpara Pep, Trinkpara Paybol, Trinkpara Popypara, Trinkpara Kripto ve Anında Kripto yöntemi ile yatırım yapmanız gerekmektedir",
                                "Minimum 500₺ yatırım yapmanız durumunda ilgili bonustan yararlanabilirsiniz",
                                "Yatırım sırasında \'BONUS SEÇ\' kısmını seçerek \'HER YATIRIMA FREESPIN\' seçeneğini seçmeniz gerekmektedir",
                                "Bu bonus Canlı destek hattı veya bonus talep sayfası üzerinde talep edilemez ve aktarılamaz",
                                "Bu bonus aktarımlarında 24 saat kar-zarar durumu baz alınmamaktadır",
                                "Her yatırımınız için alabileceğiniz maksimum freespin miktarı 600 adettir"
                            ]
                        },
                        {
                            title: '🎁 Bonus Özellikleri',
                            content: 'Freespin bonusunun detaylı özellikleri ve kazanç tablosu:',
                            items: [
                                "Freespinler Pragmatic Play sağlayıcısına ait Gates Of Olympus Super Scatter ve Sweet Bonanza Super Scatter oyunlarında geçerlidir",
                                "Freespin geçerlilik süresi 24 saat olmaktadır",
                                "Freespin bonusundan yararlanan üyelerimize aynı zamanda yatırım veya kayıp bonusumuzdan da yararlanabilir",
                                "500₺ – 999₺ arası yatırımlarınıza 50 Freespin",
                                "1000₺ – 1499₺ arası yatırımlarınıza 100 Freespin",
                                "1500₺ – 2999₺ arası yatırımlarınıza 150 Freespin",
                                "3000₺ – 4999₺ arası yatırımlarınıza 200 Freespin",
                                "5000₺ – 9999₺ arası yatırımlarınıza 350 Freespin",
                                "10.000₺ ve üzeri yatırımlarınıza ise 600 Freespin olarak aktarılacaktır",
                                "Freespin ile elde edilebilecek maksimum kazanç 1000₺ olmaktadır"
                            ]
                        },
                        {
                            title: '🔄 Bonus Çevrim Şartları',
                            content: 'Freespin kazancınızı ana bakiyenize aktarmak için gerekli çevrim şartları:',
                            items: [
                                "Bonus çevrimini tamamlamanız için casino alanında Freespin kazancının 1 katı kadar çevrim yapmanız gerekmektedir",
                                "Çevrim ardından bonus kazanç tutarı ana bakiyenize otomatik yansıyacaktır",
                                "Freespin kullanımı ardından freespin kazancının 1 katı kadar çevrim yapmanız ardından dilerseniz spor alanında dilerseniz casino&canlı casino alanında oyunlara katılım sağlayabilirsiniz"
                            ]
                        },
                        {
                            title: '🎮 Geçerli Oyunlar',
                            content: 'Freespinlerin kullanılabileceği oyunlar ve sağlayıcı bilgileri:',
                            items: [
                                "Freespinler Pragmatic Play sağlayıcısına ait oyunlarda geçerlidir",
                                "Gates Of Olympus Super Scatter oyunu",
                                "Sweet Bonanza Super Scatter oyunu",
                                "Freespin kullanımı ardından çevrim şartı tamamlandıktan sonra tüm casino ve canlı casino oyunlarında oynayabilirsiniz"
                            ]
                        },
                        {
                            title: '📋 Genel Bonus Kuralları',
                            content: 'Promosyon ile ilgili genel kurallar ve şartlar:',
                            items: [
                                "Hproject bu bonusu istediği zaman durdurma ya da iptal etme hakkına sahiptir",
                                "Bonus kötüye kullanımı durumunda bonusu ve bonstan elde edilen kazancı geri alma hakkına sahiptir",
                                "Hproject genel bonus kuralları geçerlidir",
                                "Tüm bonus kuralları ve şartları Hproject\'in genel kullanım şartları ile uyumludur"
                            ]
                        }
                    ],
                    quiz: [
                        {
                            question: "600 Freespin promosyonundan yararlanabilmek için minimum ne kadar yatırım yapmanız gerekmektedir?",
                            options: [
                                "A) 100₺",
                                "B) 250₺", 
                                "C) 500₺",
                                "D) 1000₺"
                            ],
                            correct: 2,
                            explanation: "600 Freespin promosyonundan yararlanabilmek için minimum 500₺ yatırım yapmanız gerekmektedir."
                        },
                        {
                            question: "Freespinler hangi oyunlarda kullanılabilir?",
                            options: [
                                "A) Tüm Pragmatic Play oyunları",
                                "B) Sadece Gates Of Olympus Super Scatter",
                                "C) Gates Of Olympus Super Scatter ve Sweet Bonanza Super Scatter",
                                "D) Tüm casino oyunları"
                            ],
                            correct: 2,
                            explanation: "Freespinler sadece Gates Of Olympus Super Scatter ve Sweet Bonanza Super Scatter oyunlarında kullanılabilir."
                        },
                        {
                            question: "Freespinlerin geçerlilik süresi ne kadardır?",
                            options: [
                                "A) 12 saat",
                                "B) 24 saat",
                                "C) 48 saat",
                                "D) 72 saat"
                            ],
                            correct: 1,
                            explanation: "Freespinlerin geçerlilik süresi 24 saattir. Bu süre içinde kullanılmayan freespinler sistemsel olarak geçerliliğini kaybeder."
                        },
                        {
                            question: "10.000₺ yatırım yapıldığında kaç freespin kazanılır?",
                            options: [
                                "A) 350 Freespin",
                                "B) 500 Freespin",
                                "C) 600 Freespin",
                                "D) 1000 Freespin"
                            ],
                            correct: 2,
                            explanation: "10.000₺ ve üzeri yatırımlar için 600 Freespin kazanılır. Bu promosyondaki maksimum freespin miktarıdır."
                        },
                        {
                            question: "Freespin kazancı için çevrim şartı nedir?",
                            options: [
                                "A) 5x çevrim",
                                "B) 3x çevrim",
                                "C) 2x çevrim",
                                "D) 1x çevrim"
                            ],
                            correct: 3,
                            explanation: "Freespin kazancı için sadece 1x çevrim şartı vardır. Yani freespin kazancının 1 katı kadar çevrim yapmanız yeterlidir."
                        }
                    ]
                },
                {
                    id: 'cash-out',
                    title: '💸 Cash Out ile Bahsi Bozdur',
                    shortDesc: 'Maç Sonucunu Bekleme',
                    description: 'MAÇ SONUCUNU BEKLEME KUPONUNU CASH OUT İLE HEMEN BOZDUR! Hitbet Cash Out ile Kazancını güvenceye al, riske veda et!',
                    keywords: 'cash out bahis bozdur spor',
                    basicInfo: {
                        'Bonus Miktarı': 'Yok',
                        'Minimum Yatırım': 'Yok',
                        'Geçerli Günler': 'Her zaman',
                        'Geçerlilik Süresi': 'Süresiz',
                        'Maksimum Kazanç': 'Yok'
                    },
                    sections: {
                        'Hak Ediş Şartları': {
                            title: '📋 Hak Ediş Şartları',
                            content: [
                                "1. Cash Out(Bahis Bozdur) özelliğinden yararlanabilmeniz için bir spor bahsinizin olması gerekmektedir.",
                                "2. Cash Out özelliğinden yararlanabilmeniz için bahis aldığınız market tercihinin canlı bahislerde aktif olması gerekmektedir.",
                                "3. Örnek olarak MS1 oynadığınız müsabaka canlıda 3-0 önde ve ev sahibi kazanır oranı aktif değil ise(3-0 olması sebebiyle ev sahibi kazanır oranı olmayabilir) cash out seçeneği aktif olmayacaktır.",
                                "4. Cash Out seçeneği hemen hemen her karşılaşmada mevcuttur. Kuponlarım sayfasında Cash Out(Bahis Bozdur) ibaresini gördüğünüz her kuponda bu seçeneği değerlendirebilirsiniz."
                            ]
                        },
                        'Cash Out Özellikleri': {
                            title: '🎯 Cash Out Özellikleri',
                            content: [
                                "1. Cash Out tutarları sistemsel olarak hesaplanmaktadır.",
                                "2. Bahis bozdur özelliği bulunan bahisler, karşılaşmanın ertelenmesi durumunda bahis-bozdur özelliğini kaybeder. Müsabaka oynanmaz ise ertelenen/iptal edilen müsabaka kuralları geçerli olacaktır."
                            ]
                        },
                        'Bonus Çevrim Şartları': {
                            title: '🔄 Bonus Çevrim Şartları',
                            content: [
                                "1. Cash Out bahisler çevrime dahil değildir.",
                                "2. Cash Out yapılan kuponlar için ekstra bir çevrim şartı bulunmamaktadır."
                            ]
                        },
                        'Geçerli Müsabakalar': {
                            title: '⚽ Geçerli Müsabakalar',
                            content: [
                                "1. Cash Out sadece spor bahislerinde geçerlidir.",
                                "2. Cash Out seçeneği hemen hemen her karşılaşmada mevcuttur. Kuponlarım sayfasında Cash Out(Bahis Bozdur) ibaresini gördüğünüz her kuponda bu seçeneği değerlendirebilirsiniz."
                            ]
                        },
                        'Genel Bonus Kuralları': {
                            title: '📝 Genel Bonus Kuralları',
                            content: [
                                "1. Hitbet genel bonus kuralları geçerlidir.",
                                "2. Hitbet dilediği zaman bu bonusu durdurma ya da iptal etme hakkına sahiptir.",
                                "3. Bonusu veya kazancını kötüye kullanma durumunda Hitbet bonus ve kazancı geri alma hakkına sahiptir."
                            ]
                        }
                    },
                    quiz: {
                        question: "Cash Out hangi bahis türlerinde geçerlidir?",
                        options: [
                            "Casino oyunlarında",
                            "Sadece canlı bahislerde",
                            "Spor bahislerinde",
                            "Slot oyunlarında"
                        ],
                        correct: 2,
                        explanation: "Cash Out sadece spor bahislerinde geçerlidir."
                    }
                }
            ];
        }

        function renderPromos() {
            const container = document.getElementById('promosyon-container');
            container.innerHTML = '';

            const providerContainer = document.getElementById('saglayici-promosyon-container');
            providerContainer.innerHTML = '';

            promos.forEach(promo => {
                if (promo.id === 'pragmatic-play') {
                    const accordion = createPromoAccordion(promo);
                    providerContainer.appendChild(accordion);
                } else {
                const accordion = createPromoAccordion(promo);
                container.appendChild(accordion);
                }
            });
        }

        function createPromoAccordion(promo) {
            const accordion = document.createElement('div');
            accordion.className = 'accordion';
            accordion.id = promo.id;
            
            // Temel bilgileri oluştur
            let basicInfoHtml = '';
            if (promo.basicInfo) {
                basicInfoHtml = `
                    <div class="section-accordion">
                        <div class="section-header" onclick="toggleSection(this)">
                            <span>📊 Promosyon Bilgileri</span>
                            <span class="section-icon">▼</span>
                        </div>
                        <div class="section-content">
                            <ul>
                                ${Object.entries(promo.basicInfo).map(([key, value]) => 
                                    `<li><strong>${key}:</strong> ${value}</li>`
                                ).join('')}
                            </ul>
                        </div>
                    </div>
                `;
            }

            // Bölümleri oluştur
            let sectionsHtml = '';
            if (promo.sections) {
                sectionsHtml = Object.values(promo.sections).map(section => {
                    let contentHtml = '';
                    if (Array.isArray(section.content)) {
                        contentHtml = section.content.map(item => `<li>${item}</li>`).join('');
                    } else if (typeof section.content === 'object') {
                        contentHtml = Object.entries(section).filter(([key, value]) => key !== 'title').map(([key, value]) => 
                            `<li><strong>${key}:</strong> ${Array.isArray(value) ? value.join(', ') : value}</li>`
                        ).join('');
                    }
                    
                    return `
                        <div class="section-accordion">
                            <div class="section-header" onclick="toggleSection(this)">
                                <span>${section.title}</span>
                                <span class="section-icon">▼</span>
                            </div>
                            <div class="section-content">
                                <ul>
                                    ${contentHtml}
                                </ul>
                            </div>
                        </div>
                    `;
                }).join('');
            }
            
            accordion.innerHTML = `
                <div class="accordion-header" onclick="toggleAccordion(this)">
                    <span>${promo.title} - ${promo.shortDesc}</span>
                    <div>
                        <span class="accordion-icon">▼</span>
                        <button class="edit-button" onclick="event.stopPropagation(); editPromoInline('${promo.id}')">✏️</button>
                    </div>
                </div>
                <div class="accordion-content">
                    <div class="promo-card" data-keywords="${promo.keywords}">
                        <div class="promo-title">${promo.title}</div>
                        <div class="promo-description">${promo.description}</div>
                        <div class="promo-features">
                            ${basicInfoHtml}
                            ${sectionsHtml}
                        </div>
                    </div>
                </div>
            `;
            
            return accordion;
        }

        function updatePromoList() {
            const list = document.getElementById('promo-list');
            list.innerHTML = '';
            
            promos.forEach(promo => {
                const item = document.createElement('div');
                item.className = 'promo-item';
                item.innerHTML = `
                    <span>${promo.title}</span>
                    <div class="promo-controls">
                        <button class="control-btn edit-btn" onclick="editPromoInline('${promo.id}')">✏️</button>
                        <button class="control-btn delete-btn" onclick="deletePromo('${promo.id}')">🗑️</button>
                        <button class="control-btn toggle-btn" onclick="togglePromo('${promo.id}')">👁️</button>
                    </div>
                `;
                list.appendChild(item);
            });
        }

        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        function toggleAccordion(header) {
            const content = header.nextElementSibling;
            const isActive = header.classList.contains('active');
            
            if (!isActive) {
                header.classList.add('active');
                content.classList.add('active');
            } else {
                header.classList.remove('active');
                content.classList.remove('active');
            }
        }

        function toggleSection(header) {
            const content = header.nextElementSibling;
            const isActive = header.classList.contains('active');
            
            if (!isActive) {
                header.classList.add('active');
                content.classList.add('active');
            } else {
                header.classList.remove('active');
                content.classList.remove('active');
            }
        }

        function searchPromos() {
            const searchTerm = document.querySelector('.search-box').value.toLowerCase();
            const accordions = document.querySelectorAll('.accordion');
            
            accordions.forEach(accordion => {
                const header = accordion.querySelector('.accordion-header span').textContent.toLowerCase();
                const content = accordion.querySelector('.accordion-content').textContent.toLowerCase();
                
                if (header.includes(searchTerm) || content.includes(searchTerm)) {
                    accordion.style.display = 'block';
                } else {
                    accordion.style.display = 'none';
                }
            });
        }

        function showAddPromoForm() {
            document.getElementById('add-promo-form').style.display = 'block';
        }

        function hideAddPromoForm() {
            document.getElementById('add-promo-form').style.display = 'none';
            document.getElementById('promo-json').value = '';
        }

        function addPromoFromJSON() {
            const jsonText = document.getElementById('promo-json').value.trim();
            if (!jsonText) {
                alert('Lütfen JSON verisi girin!');
                return;
            }

            try {
                const newPromo = JSON.parse(jsonText);
                if (!newPromo.id || !newPromo.title) {
                    alert('JSON verisi eksik! id ve title alanları gerekli.');
                    return;
                }

                // Mevcut promosyonu güncelle veya yeni ekle
                const existingIndex = promos.findIndex(p => p.id === newPromo.id);
                if (existingIndex !== -1) {
                    promos[existingIndex] = newPromo;
                } else {
                    promos.push(newPromo);
                }

                renderPromos();
                updatePromoList();
                hideAddPromoForm();
                
                alert('Promosyon başarıyla kaydedildi!');
            } catch (error) {
                alert('Geçersiz JSON formatı! Lütfen düzgün JSON verisi girin.');
                console.error('JSON Parse Error:', error);
            }
        }

        function editPromoInline(promoId) {
            const promo = promos.find(p => p.id === promoId);
            if (!promo) return;

            const accordion = document.getElementById(promoId);
            const content = accordion.querySelector('.accordion-content');
            const card = content.querySelector('.promo-card');
            
            // Edit moduna geç
            card.classList.add('edit-mode');
            
            // Mevcut değerleri al
            const currentTitle = promo.title;
            const currentDesc = promo.description;
            
            // Edit formu oluştur
            card.innerHTML = `
                <div class="edit-section-content">
                    <div class="edit-section-title">📝 Promosyon Başlığı</div>
                    <input type="text" class="edit-input" value="${currentTitle}" id="edit-title-${promoId}" placeholder="Promosyon başlığını girin...">
                </div>
                
                <div class="edit-section-content">
                    <div class="edit-section-title">📄 Açıklama</div>
                    <textarea class="edit-textarea" id="edit-desc-${promoId}" placeholder="Promosyon açıklamasını girin...">${currentDesc}</textarea>
                </div>
                
                <div class="edit-section-content">
                    <div class="edit-section-title">📊 Temel Bilgiler</div>
                    <div id="edit-basic-info-${promoId}">
                        ${promo.basicInfo ? Object.entries(promo.basicInfo).map(([key, value], index) => 
                            `<div class="edit-list-item">
                                <input type="text" value="${key}" placeholder="Anahtar" id="basic-key-${index}">
                                <input type="text" value="${value}" placeholder="Değer" id="basic-value-${index}">
                                <button onclick="removeBasicInfoItem(${index})">🗑️</button>
                            </div>`
                        ).join('') : ''}
                    </div>
                    <button class="add-item-btn" onclick="addBasicInfoItem('${promoId}')">➕ Yeni Bilgi Ekle</button>
                </div>
                
                <div class="edit-section-content">
                    <div class="edit-section-title">📋 Bölümler</div>
                    <div id="edit-sections-${promoId}">
                        ${promo.sections ? Object.entries(promo.sections).map(([key, section], sectionIndex) => 
                            `<div style="margin: 15px 0; padding: 15px; border: 1px solid #dee2e6; border-radius: 8px; background: #f8f9fa;">
                                <div class="edit-section-title">${section.title}</div>
                                <input type="text" class="edit-input" value="${section.title}" placeholder="Bölüm başlığı" id="section-title-${sectionIndex}">
                                <div id="section-content-${sectionIndex}">
                                    ${Array.isArray(section.content) ? section.content.map((item, itemIndex) => 
                                        `<div class="edit-list-item">
                                            <input type="text" value="${item}" placeholder="Madde içeriği" id="section-item-${sectionIndex}-${itemIndex}">
                                            <button onclick="removeSectionItem(${sectionIndex}, ${itemIndex})">🗑️</button>
                                        </div>`
                                    ).join('') : ''}
                                </div>
                                <button class="add-item-btn" onclick="addSectionItem(${sectionIndex})">➕ Madde Ekle</button>
                            </div>`
                        ).join('') : ''}
                    </div>
                </div>
                
                <div class="edit-buttons">
                    <button class="save-btn" onclick="savePromoEdit('${promoId}')">💾 Kaydet</button>
                    <button class="cancel-btn" onclick="cancelPromoEdit('${promoId}')">❌ İptal</button>
                </div>
            `;
        }

        function addBasicInfoItem(promoId) {
            const container = document.getElementById(`edit-basic-info-${promoId}`);
            const index = container.children.length - 1; // -1 çünkü son eleman buton
            
            const newItem = document.createElement('div');
            newItem.className = 'edit-list-item';
            newItem.innerHTML = `
                <input type="text" placeholder="Anahtar" id="basic-key-${index}">
                <input type="text" placeholder="Değer" id="basic-value-${index}">
                <button onclick="removeBasicInfoItem(${index})">🗑️</button>
            `;
            
            container.insertBefore(newItem, container.lastElementChild);
        }

        function removeBasicInfoItem(index) {
            const items = document.querySelectorAll('.edit-list-item');
            if (items[index]) {
                items[index].remove();
            }
        }

        function addSectionItem(sectionIndex) {
            const container = document.getElementById(`section-content-${sectionIndex}`);
            const itemIndex = container.children.length;
            
            const newItem = document.createElement('div');
            newItem.className = 'edit-list-item';
            newItem.innerHTML = `
                <input type="text" placeholder="Madde içeriği" id="section-item-${sectionIndex}-${itemIndex}">
                <button onclick="removeSectionItem(${sectionIndex}, ${itemIndex})">🗑️</button>
            `;
            
            container.appendChild(newItem);
        }

        function removeSectionItem(sectionIndex, itemIndex) {
            const item = document.getElementById(`section-item-${sectionIndex}-${itemIndex}`);
            if (item) {
                item.parentElement.remove();
            }
        }

        function savePromoEdit(promoId) {
            const promo = promos.find(p => p.id === promoId);
            if (!promo) return;

            // Temel bilgileri güncelle
            promo.title = document.getElementById(`edit-title-${promoId}`).value;
            promo.description = document.getElementById(`edit-desc-${promoId}`).value;

            // Temel bilgileri güncelle
            const basicInfoItems = document.querySelectorAll('#edit-basic-info-' + promoId + ' .edit-list-item');
            promo.basicInfo = {};
            basicInfoItems.forEach(item => {
                const key = item.querySelector('input[placeholder="Anahtar"]').value;
                const value = item.querySelector('input[placeholder="Değer"]').value;
                if (key && value) {
                    promo.basicInfo[key] = value;
                }
            });

            // Bölümleri güncelle
            const sectionContainers = document.querySelectorAll('#edit-sections-' + promoId + ' > div');
            promo.sections = {};
            sectionContainers.forEach((container, sectionIndex) => {
                const title = document.getElementById(`section-title-${sectionIndex}`).value;
                const contentItems = document.querySelectorAll(`#section-content-${sectionIndex} .edit-list-item`);
                const content = Array.from(contentItems).map(item => {
                    return item.querySelector('input').value;
                }).filter(item => item.trim() !== '');
                
                if (title && content.length > 0) {
                    promo.sections[title] = {
                        title: title,
                        content: content
                    };
                }
            });

            // Accordion header'ı güncelle
            const accordion = document.getElementById(promoId);
            const header = accordion.querySelector('.accordion-header span');
            header.textContent = `${promo.title} - ${promo.shortDesc}`;

            // Edit modundan çık
            cancelPromoEdit(promoId);
            
            // Listeleri güncelle
            updatePromoList();
            
            alert('Promosyon başarıyla güncellendi!');
        }

        function cancelPromoEdit(promoId) {
            const accordion = document.getElementById(promoId);
            const content = accordion.querySelector('.accordion-content');
            const card = content.querySelector('.promo-card');
            
            // Edit modundan çık
            card.classList.remove('edit-mode');
            
            // Orijinal görünümü geri yükle
            renderPromos();
        }

        function deletePromo(promoId) {
            if (confirm('Bu promosyonu silmek istediğinizden emin misiniz?')) {
                promos = promos.filter(p => p.id !== promoId);
                renderPromos();
                updatePromoList();
            }
        }

        function togglePromo(promoId) {
            const accordion = document.getElementById(promoId);
            const header = accordion.querySelector('.accordion-header');
            toggleAccordion(header);
        }

        function refreshPromos() {
            loadPromos();
            alert('Promosyonlar yenilendi!');
        }

        function exportPromos() {
            const dataStr = JSON.stringify(promos, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'promosyonlar.json';
            link.click();
        }

        // Sayfa yüklendiğinde promosyonları yükle
        document.addEventListener('DOMContentLoaded', function() {
            loadPromos();
        });
    </script>
</body>
</html>
